{{ define "content" }}
<div class="space-y-6">
    <div class="flex justify-between items-center">
        <div>
            <h2 class="text-xl font-bold text-white">Drive Status</h2>
            {{ if .OnlineCount }}
            <p class="text-sm text-zinc-400 mt-1">{{ .OnlineCount }} of {{ .TotalCount }} drives online</p>
            {{ end }}
        </div>
        <button onclick="window.location.reload()" class="bg-white text-black px-4 py-2 rounded-md text-sm font-semibold hover:bg-zinc-200 flex items-center gap-2">
            <i data-lucide="refresh-cw" size="16"></i> Refresh
        </button>
    </div>

    {{ if .Error }}
    <div class="bg-red-500/10 border border-red-500/50 rounded-lg p-4">
        <div class="flex items-center gap-2 text-red-400">
            <i data-lucide="alert-circle" size="16"></i>
            <span class="text-sm font-medium">{{ .Error }}</span>
        </div>
    </div>
    {{ end }}

    {{ if .Disks }}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        {{ range .Disks }}
        <div class="bg-surface border border-border rounded-xl p-4 flex flex-col gap-3">
            <div class="flex justify-between items-center">
                <div class="flex items-center gap-2">
                    <i data-lucide="hard-drive" class="text-{{ .StatusColor }}-500" size="20"></i>
                    <span class="font-medium text-sm truncate" title="{{ .Path }}">{{ .Path }}</span>
                </div>
                <span class="text-xs bg-{{ .StatusColor }}-500/10 text-{{ .StatusColor }}-500 px-2 py-1 rounded capitalize">{{ .Status }}</span>
            </div>
            <div class="w-full bg-zinc-800 h-2 rounded-full overflow-hidden">
                <div class="bg-{{ .StatusColor }}-500 h-full" style="width: {{ .UsedPercent }}%"></div>
            </div>
            <div class="flex justify-between text-xs text-zinc-500">
                <span>{{ .UsedSpace }} Used</span>
                <span>{{ .TotalSpace }} Total</span>
            </div>
            <div class="text-xs text-zinc-600 truncate" title="{{ .Endpoint }}">
                <i data-lucide="server" size="12" class="inline"></i> {{ .Endpoint }}
            </div>
            {{ if .Healing }}
            <div class="text-xs text-yellow-500 flex items-center gap-1">
                <i data-lucide="activity" size="12"></i> Healing in progress
            </div>
            {{ end }}
        </div>
        {{ end }}
    </div>
    {{ else if not .Error }}
    <div class="bg-surface border border-border rounded-xl p-8 text-center">
        <i data-lucide="hard-drive" size="48" class="text-zinc-600 mx-auto mb-4"></i>
        <p class="text-zinc-400">No drives found</p>
    </div>
    {{ end }}
</div>
{{ end }}
